<!DOCTYPE html>

{% extends 'base.html' %}

{% block title %} Compare Runs: {{name}}{% endblock %}

{% block head_block %}


<head>
	<!--Load the AJAX API-->
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <script type="text/javascript">
    google.charts.load('current', {packages: ['corechart']}); //allows standard graphs (column bar line pie etc)
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
      // Define the chart to be drawn.
		
		var run1 = ["{{run1.name}}",parseFloat("{{run1.MAP}}"),parseFloat("{{run1.p10}}"),parseFloat("{{run1.p20}}")];
		var run2 = ["{{run2.name}}",parseFloat("{{run2.MAP}}"),parseFloat("{{run2.p10}}"),parseFloat("{{run2.p20}}")];
		
		
		for (var i = 1; i < 4; i++ ){	//error checking
			if (isNaN(run1[i])){
				run1[i] = 0.0;
			}
		};
		
		for (var i = 1; i < 4; i++ ){	//error checking
			if (isNaN(run2[i])){
				run2[i] = 0.0;
			}
		};		
		
		var data = new google.visualization.DataTable();
		
		data.addColumn('string','measurement');
		data.addColumn('number',run1[0]);
		data.addColumn('number',run2[0]);
		
		data.addRows([
		["map",run1[1],run2[1]],
		["p10",run1[2],run2[2]],
		["p20",run1[3],run2[3]],
		]);
		
	
	  var options = {'title': '{{name}}',
			   'width':600,
			   'height':500 };
			   
      // Instantiate and draw the chart.
      var chart = new google.visualization.LineChart(document.getElementById('LineChart'));
	  
	  chart.draw(data, options);
    }
  </script>
</head>

{% endblock %}

{% block body_block %}
<h1> Compare Runs: {{name}} </h1>
<!-- Identify where the chart should be drawn. -->
<center>
{% if name %}
	<div id="LineChart"/>
{% else %}
	Graph does not exist
{% endif %}

</center>
{% endblock %}